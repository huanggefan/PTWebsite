<style type="text/css">
    .tag {
        margin: 3rem 0 0 0;
        width: 100%;
        font-size: 0.95rem;
        text-align: center;
        text-decoration: underline;
    }
    .ref {
        margin: 0 0 0.5rem 0;
        padding: 0.5rem 0;
        width: 100%;
        text-align: left;
        overflow-x: auto;
        white-space: nowrap;
    }
</style>

## katex写法注意

`\\` -> `\\\\`

## 摘要

## 1. 什么是数学建模 $f$

>数学模型是利用系统化的符号和数学表达式对问题的一种抽象描述。数学建模可看作是把问题定义转换为数学模型的过程。
>
>和问题定义相对应，数学模型包括几个主要组成部分：决策变量、环境变量、目标函数和约束条件。决策变量表示决策者可以控制的因素，即可控输入，是需要通过模型求解来确定的模型中的未知变量。环境变量表示决策者不可控的外界因素，即非可控输入，需要在收集数据阶段确定其具体数值，并在模型中以常量表示。目标函数是指描述问题目标的数学方程，而约束条件则是指描述问题中制约和限制因素的数学表达式（等式或不等式）。（这个主要是规划的一种定义）
>
>数学建模是一项富有创造性的工作。对任何问题，“没有唯一正确的模型”。数学模型是对现实问题的一种抽象描述，必然会忽略一些因素。而这些被忽略的看似无关或不重要的因素，可能会引起重大的变化，例如人们熟知的“蝴蝶效应”。著名的统计学家乔治·博克斯曾说过：“All models are wrong.Some are useful.”（所有的模型都是错误的，但有一些是有用的。）对同一问题，可以从不同角度对其构建出多个不同的模型。
>
>对于复杂问题的建模，很难一步到位，通常需要采取一种逐步演化的方式来进行。从简单的模型开始（忽略一些难以处理的因素），然后通过逐步添加更多相关因素，让模型演化，使其与实际问题更加接近。基于模型分析得出的结论或建议的价值，与模型对实际情况的描述符合程度有很大的关系。通常，模型越接近实际，分析得出的结果的价值也越大。
> [\[1\]](#ref-1)


<div class="tag" id="image_2-1">图 1-1</div>

![数学建模五步法]( https://picx.zhimg.com/80/v2-82f45dab39499dbb174bbebf49a3e8ae_1440w.webp?source=1940ef5c)

## 2. 简单的案例

**已知公司员工的身高和尺码的对应数据，如：[表格 1-1](#table_1-1)，现发生一起盗窃案，盗窃现场留下一嫌疑人的脚印，尺码为：41，试问：嫌疑人的身高**

<div class="tag" id="table_1-1">表格 1-1</div>

| 身高 | 尺码 |
| ---- | ---- |
| 160  | 37   |
| 170  | 40   |
| 180  | 42   |

### 2.1 建立尺码和身高的数学模型尺码

建得模型如：[公式 2-1](#formula_2-1)

<div class="tag" id="formula_2-1">公式 2-1</div>

$$
身高 = c_0 + c_1 \cdot 尺码 + c_2 \cdot 尺码 ^ 2
$$

### 2.2 求解模型的未知参数

显然的，在 [公式 2-1](#formula_2-1) 中，未知参数是：$c_0$、$c_1$ 和 $c_2$

考虑到我们的模型是一个多项式，我们可以使用最小二乘法进行曲线拟合，从而求解未知参数

<div class="tag" id="formula_2-2">公式 2-2</div>

$$
X =
\begin{bmatrix}
    1      & 尺码_1   & 尺码_1^2   \\\\
    1      & 尺码_2   & 尺码_2^2   \\\\
    \vdots & \vdots   & \vdots     \\\\
    1      & 尺码_n   & 尺码_n^2   \\\\
\end{bmatrix}
,
Y =
\begin{bmatrix}
    身高_1  \\\\
    身高_2  \\\\
    \vdots  \\\\
    身高_n  \\\\
\end{bmatrix}
,
C =
\begin{bmatrix}
    c_0  \\\\
    c_1  \\\\
    c_2  \\\\
\end{bmatrix}
$$

在给定一组参数 C 下，有误差 $S$

<div class="tag" id="formula_2-3">公式 2-3</div>

$$
S = (XC - Y)^T (XC - Y)
$$

显然的，我们应当使误差无限接近于 $0$

<div class="tag" id="formula_2-4">公式 2-4</div>

$$
\frac {\partial{S}} {\partial{C}} = 0
$$

易得

<div class="tag" id="formula_2-5">公式 2-5</div>

$$
C = (X^T X)^{-1} X^T  Y
$$

编写代码如下

```python
import numpy

X = numpy.array([[1, 37, 37**2], [1, 40, 40**2], [1, 42, 42**2]], dtype=numpy.float64)
Y = numpy.array([[160], [170], [180]], dtype=numpy.float64)

C = numpy.matmul(X.T, X)
C = numpy.linalg.inv(C)
C = numpy.matmul(C, X.T)
C = numpy.matmul(C, Y)
```

运行结果如下

```python
# C
# Out:
#   array([
#       [ 5.30000000e+02],
#       [-2.23333333e+01],
#       [ 3.33333333e-01]
#   ])

# c_0 = 530.000
# c_1 = -22.333
# c_2 = 0.333

# x = 37.000
# c_0 + c_1 * x + c_2 * x**2

# Out:
#   159.5560000000001
```

### 2.3 优化模型

仔细观察 [公式 2-1](#formula_2-1)，我们可以看到，模型中有一个常数 $c$，我们可以调整 $c$，使得 $a$ 和 $b$ 尽可能的是一个比较美观的数字

通常情况下，我们可以令 $c = 0$

当然，我们也可以根据直觉或者拟合的结果，反向调整模型

对于我们的这个例子 [公式 2-1](#formula_2-1)，拟合之后，我们可以看到 $c_2 = 0.333$，我们可以考虑一下，这个模型是不是可以简化一下，是不是不需要 $c_2 \cdot 尺码 ^ 2$

复杂的模型不一定比简单的模型效果更好

### 2.4 检验模型

一般情况下，我们会将收集到的数据集，随机的分为两份 $D_{train}$ 和 $D_{test}$，一份用于拟合模型，一份用于测试模型

将 $D_{test}$ 中的 $尺码_i$ 带入 [公式 2-1](#formula_2-1)，计算出 $身高_{ic}$，计算 $误差_i = \lvert 身高_{i} - 身高_{ic} \rvert$

如果平均误差 $\frac {\sum_1^n{误差_i}} {n}$ 符合我们的预期，这个模型就是可用的，这个模型就可以通过检验

### 2.5 使用模型

我们现在得到了尺码和身高的具体数学模型 $身高 = 530.000 - 22.333 \cdot 尺码 + 0.333 \cdot 尺码 ^ 2$

代入 $尺码 = 41$

解的 $身高 = 174.120$

## 3. 复杂的案例

**城市建设投资公司有一批新项目需要投资建设，为了防止项目烂尾，现在对项目信息进行建模，计算未来项目烂尾的风险**

### 3.1 收集相关数据

<div class="tag" id="table_3-1">表格 3-1</div>

| 项目建设乙方 | 乙方注册资本 | 乙方是否国企 | 项目预期建设成本 | 项目预期建设工期 | 是否烂尾 |
| ------------ | ------------ | ------------ | ---------------- | ---------------- | -------- |
| a            | 100000000    | 1            | 1000000          | 200              | 1        |
| a            | 100000000    | 1            | 1000000          | 100              | 0        |
| a            | 100000000    | 1            | 1000000          | 100              | 0        |
| b            | 200000000    | 1            | 1000000          | 100              | 0        |
| b            | 200000000    | 1            | 1000000          | 200              | 0        |
| b            | 200000000    | 1            | 1000000          | 200              | 0        |
| c            | 90000000     | 0            | 1000000          | 300              | 0        |
| c            | 90000000     | 0            | 1000000          | 300              | 0        |
| c            | 90000000     | 0            | 3000000          | 400              | 1        |
| c            | 90000000     | 0            | 2000000          | 400              | 1        |

### 3.2 建立项目信息和烂尾风险的数学模型

我们可以尝试建立全概率模型

建立项目数据矩阵

$$
D =
\begin{bmatrix}
    乙方      & 注册资本   & 国企    & 预期建设成本  & 预期建设工期 & 烂尾   \\\\
    a         & 100000000  & 1       & 1000000       & 200          & 1      \\\\
    \vdots    & \vdots     & \vdots  & \vdots        & \vdots       & \vdots \\\\
    c         & 90000000   & 0       & 2000000       & 440          & 1      \\\\
\end{bmatrix}
$$

我们令项目烂尾的概率为：$P(U)$

显然的，给定一组项目信息 $\boldsymbol{d}$，该项目的烂尾概率为：

<div class="tag" id="formula_3-1">公式 3-1</div>

$$
P(U | \boldsymbol{d}) = P(U | \boldsymbol{d}_1, \cdots, \boldsymbol{d}_i) = \sum_1^i{ P(\boldsymbol{d}_i)  P(U | \boldsymbol{d}_i) }
$$

### 3.3 求解模型

乙方是 a 烂尾的概率为：$P(U | D^T[1]=a) = \frac{1}{10}$

乙方是 b 烂尾的概率为：$P(U | D^T[1]=b) = \frac{0}{10}$

乙方是 c 烂尾的概率为：$P(U | D^T[1]=c) = \frac{2}{10}$

乙方是国企烂尾的概率为：$P(U | D^T[3]=1) = \frac{1}{10}$

乙方不是国企烂尾的概率为：$P(U | D^T[3]=0) = \frac{2}{10}$

由此，我们可以逐一算出：$P(U | D^T[i]=j)$

由此我们可以建立概率矩阵

$$
DP =
\begin{bmatrix}
    {DP}_1     \\\\
    \vdots     \\\\
    {DP}_5     \\\\
\end{bmatrix}
\\\\
{DP}_1 =
\begin{bmatrix}
    乙方      & 概率           \\\\
    a         & \frac{1}{10}   \\\\
    b         & \frac{0}{10}   \\\\
    c         & \frac{2}{10}   \\\\
\end{bmatrix}
,
{DP}_2 =
\begin{bmatrix}
    注册资本         & 概率           \\\\
    100000000        & \frac{1}{10}   \\\\
    200000000        & \frac{0}{10}   \\\\
    90000000         & \frac{2}{10}   \\\\
\end{bmatrix}
,
{DP}_3 =
\begin{bmatrix}
    国企     & 概率           \\\\
    1        & \frac{1}{10}   \\\\
    0        & \frac{2}{10}   \\\\
\end{bmatrix}
\\\\
{DP}_4 =
\begin{bmatrix}
    预期建设成本    & 概率           \\\\
    1000000         & \frac{1}{10}   \\\\
    2000000         & \frac{1}{10}   \\\\
    3000000         & \frac{1}{10}   \\\\
\end{bmatrix}
,
{DP}_5 =
\begin{bmatrix}
    预期建设工期  & 概率           \\\\
    100           & \frac{0}{10}   \\\\
    200           & \frac{1}{10}   \\\\
    300           & \frac{0}{10}   \\\\
    400           & \frac{2}{10}   \\\\
\end{bmatrix}
$$

### 3.4 优化模型

注册资本、预期建设成本和预期建设工期的取值不太可能是离散的，因此，不适合建立概率矩阵

对于连续变量的概率，使用概率分布函数更好

### 3.5 检验模型

省略

### 3.6 使用模型

省略

## 参考文献

<div class="ref" id="ref-1">
[1]MathHub.什么是「数学建模」？.[EB/OL].(2023-02-01)[2023-03-21].https://www.zhihu.com/question/346232109.
</div>

<div class="ref" id="ref-2">
[2]石鹏.最小二乘法多项式曲线拟合数学原理及其C++实现.[EB/OL].(2021-04-14)[2023-03-21].https://zhuanlan.zhihu.com/p/268884807.
</div>

<div class="ref" id="ref-3">
[3]ZZ数据分析.请问为什么朴素贝叶斯在文本分类中表现还不错？.[EB/OL].(2020-12-23)[2023-03-21].https://www.zhihu.com/question/62797561/answer/1640472478.
</div>

<div class="ref" id="ref-4">
[4]窗畔的光.贝叶斯定理 (Bayes' theorem) VS 朴素贝叶斯分类（Naive Bayes classifier）.[EB/OL].(2022-03-03)[2023-03-21].https://zhuanlan.zhihu.com/p/472481803.
</div>

<div class="ref" id="ref-5">
[5]Rainsley.条件概率、全概率公式、贝叶斯公式.[EB/OL].(2022-08-08)[2023-03-21].https://zhuanlan.zhihu.com/p/134036707.
</div>

<div class="ref" id="ref-6">
[6]梁唐​.机器学习基础——让你一文学会朴素贝叶斯模型.[EB/OL].(2020-01-15)[2023-03-21].https://zhuanlan.zhihu.com/p/102787287.
</div>
